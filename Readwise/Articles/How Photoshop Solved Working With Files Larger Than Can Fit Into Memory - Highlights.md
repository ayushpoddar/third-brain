![rw-book-cover](https://news.ycombinator.com/favicon.ico)

## Metadata
- Author: [[Chrome Developers]]
- Full Title: How Photoshop Solved Working With Files Larger Than Can Fit Into Memory
- URL: https://developer.chrome.com/blog/how-photoshop-solved-working-with-files-larger-than-can-fit-into-memory/

## Highlights
- Opening a file for editing requires a large amount of memory, significantly more than opening a file for viewing. The files edited in Photoshop often require more memory than a user has available on their device, due to the many features offered by the software, the types of digital design and editing it is used for, and the capabilities of user devices. ([View Highlight](https://read.readwise.io/read/01hf68yrxnpb7qmpq153c3fe99))
- The [Photoshop file format](https://helpx.adobe.com/photoshop/using/file-formats.html#photoshop_format_psd) stores data with lossless compression. When a file or document is read, all of the image data is decompressed to allow for more efficient processing. As a result, the amount of memory required can be several times more than the amount of space a document uses on disk or in cloud storage. ([View Highlight](https://read.readwise.io/read/01hf68ytta6ffscfcd6c5vkxen))
- Photoshop supports a very large undo history. Many operations in Photoshop are what we call destructive operations. That is, making an edit such as painting with a brush will result in new pixel data which can be just as large as the original pixel data. Making these edits in a long editing session yields large amounts of pixel data that must be kept around to support undo operations. Thus, the history can grow to several hundred megabytes or many gigabytes of data. ([View Highlight](https://read.readwise.io/read/01hf68yw2np1k651nfk1k9tjh4))
- As a historical note, the original problem that Photoshop needed to solve was editing print resolution files on early versions of macOS, as low as 1 MB for the OS and all applications. A 300 dpi full page image in CMYK is approximately 32 MB uncompressed. ([View Highlight](https://read.readwise.io/read/01hf6900d80yy81r5bmad7czt8))
- To solve the problem of the app exceeding the available amount of RAM, Photoshop implemented a software virtual memory system (VM). Photoshop uses its VM to manage document data, especially image data, all of the undo history and state, as well as the working storage for the current command. It is also used for caching large blocks of data such as brush descriptions so that they only need to be serialized from disk once. ([View Highlight](https://read.readwise.io/read/01hf691t3dxtbejx6e5zqhmjb0))
- As an example of one of the aspects managed by the VM, image data is stored using a [mipmap](https://en.wikipedia.org/wiki/Mipmap) representation, which is a pyramidal set of tiles, providing image data at a range of low to high resolutions. This allows Photoshop to operate on the appropriate resolution data for quicker response when zoomed in or looking at a preview, versus zoomed out. ([View Highlight](https://read.readwise.io/read/01hf692em2pjrhdz17vzm4dcvz))
